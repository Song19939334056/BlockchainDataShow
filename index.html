<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>Document</title>
    <link rel="stylesheet" href="./index.css">
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
</head>

<body>
    <div class="page_header">
        <div class="header_content">
            <div class="h_c_logo">
                <span>LOGO</span>
            </div>
            <div class="h_c_tabs">
                <span>首页</span>
                <span>|</span>
                <span>最新活动</span>
                <span>|</span>
                <span>公司产品</span>
                <span>|</span>
                <span>企业中心</span>
                <span>|</span>
                <span>开发者</span>
                <span>|</span>
                <span>客户支持</span>
                <span>|</span>
                <span>合作与生态</span>
            </div>
        </div>
    </div>
    <div class="page_content">
        <div class="content_title">
            <div class="c_t">当前区块高度</div>
        </div>
        <div class="content_banner">
            <div class="c_b_content">
                <div class="c_b_img_big">
                    <div class="c_b_img">
                        <div>
                            <img class="work_class" src="./asstes/1.png" title="">
                        </div>
                        <div>
                            <img src="./asstes/2.png" alt="">
                        </div>
                        <div>
                            <img class="work_class" src="./asstes/1.png" title="">
                        </div>
                        <div>
                            <img src="./asstes/2.png" alt="">
                        </div>
                        <div>
                            <img class="work_class" src="./asstes/1.png" title="">
                        </div>
                        <div>
                            <img src="./asstes/2.png" alt="">
                        </div>
                        <div>
                            <img class="work_class" src="./asstes/1.png" title="">
                        </div>
                        <div>
                            <img src="./asstes/2.png" alt="">
                        </div>
                        <div>
                            <img class="work_class" src="./asstes/1.png" title="">
                        </div>
                        <div>
                            <img src="./asstes/2.png" alt="">
                        </div>
                        <div>
                            <img class="work_class" src="./asstes/1.png" title="">
                        </div>
                        <div>
                            <img src="./asstes/2.png" alt="">
                        </div>
                        <div>
                            <img class="work_class" src="./asstes/1.png" title="">
                        </div>
                        <div>
                            <img src="./asstes/2.png" alt="">
                        </div>
                    </div>
                </div>

                <div class="c_b_number">
                    0
                </div>
            </div>
        </div>
        <div class="content_dataMap">
            <div class="c_d_point1">
                <img src="./asstes/6.png" style="height:100%;width: 100%;" alt="">
            </div>
            <div class="c_d_point2">
                <img src="./asstes/5.png" style="height:100%;width: 100%;" alt="">
            </div>
            <div class="c_d_point3">
                <img src="./asstes/5.png" style="height:100%;width: 100%;" alt="">
            </div>
            <div class="c_d_point4">
                <img src="./asstes/6.png" style="height:100%;width: 100%;" alt="">
            </div>
            <div class="c_d_content">
                <div class="c_d_top">
                    <img src="./asstes/3.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_left">
                    <img src="./asstes/3.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_right">
                    <img src="./asstes/3.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_bottom">
                    <img src="./asstes/3.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_woman">
                    <img src="./asstes/8.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_man">
                    <img src="./asstes/9.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_gd1">
                    <img src="./asstes/光点.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_gd2">
                    <img src="./asstes/光点.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_gd3">
                    <img src="./asstes/光点.png" style="height:100%;width: 100%;" alt="">
                </div>
                <div class="c_d_textborder textborder1">
                    A2AC6F
                </div>
                <div class="c_d_textborder textborder2">
                    A2AC6F
                </div>
                <div class="c_d_textborder textborder3">
                    A2AC6F
                </div>
                <div class="c_d_textborder textborder4">
                    A2AC6F
                </div>
            </div>
            <div class="c_d_api">
                <div>
                    <div class="c_d_a_img">
                        <img src="./asstes/7.png" style="height:100%;width: 100%;" alt="">
                    </div>
                    <div class="c_d_a_title">日志基础</div>
                    <div>API</div>
                </div>
                <div>
                    <div class="c_d_a_img">
                        <img src="./asstes/7.png" style="height:100%;width: 100%;" alt="">
                    </div>
                    <div class="c_d_a_title">日志基础</div>
                    <div>API</div>
                </div>
                <div>
                    <div class="c_d_a_img">
                        <img src="./asstes/7.png" style="height:100%;width: 100%;" alt="">
                    </div>
                    <div class="c_d_a_title">日志基础</div>
                    <div>API</div>
                </div>
                <div>
                    <div class="c_d_a_img">
                        <img src="./asstes/7.png" style="height:100%;width: 100%;" alt="">
                    </div>
                    <div class="c_d_a_title">日志基础</div>
                    <div>API</div>
                </div>
                <div>
                    <div class="c_d_a_img">
                        <img src="./asstes/7.png" style="height:100%;width: 100%;" alt="">
                    </div>
                    <div class="c_d_a_title">日志基础</div>
                    <div>API</div>
                </div>
            </div>
        </div>
    </div>
    <div class="page_bottom">
        <div class="bottom_content">
            <div class="b_c_icp"></div>
            <div class="b_c_bq">COPYRIGHT © 2020 SFSDJ SFSDF INSTITUTE ALL RIGHTS RESERVED</div>
            <div class="b_c_icp">京ICP备20007654号</div>
        </div>
    </div>
</body>
<script>
    var c_b_number = 0

    function bannerMove() {
        var dom = document.getElementsByClassName('c_b_img')[0]
        var timeout = setInterval(() => {
            dom.style.left = dom.offsetLeft + (-1) + 'px';;
            if (dom.style.left === '-134px') {
                dom.style.left = '0px';
                clearInterval(timeout)
            }
        }, 1);
    }
    var work_ids = document.getElementsByClassName('work_class')
    console.log(work_ids)
    function GetValueChange() {
        $.ajax({
            url: "http://106.15.176.60:9191/api/v1/blockNumber",
            type: "get",
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            success: function (result) {
                if (c_b_number != result) {
                    bannerMove()
                }
                c_b_number = result
                document.getElementsByClassName("c_b_number")[0].innerHTML = c_b_number;
                for (var i = 0; i < work_ids.length; i++) {
                    work_ids[i].id = c_b_number - 4 + i
                }
                var timer = setTimeout(() => {
                    GetValueChange()
                    clearTimeout(timer)
                }, 5000);
            },
        });
    }

    $('.work_class').mouseover(function (params) {
        var id = $(this)[0].id
        var index = $('.work_class').index(this)
        console.log(index)
        $.ajax({
            url: `http://106.15.176.60:9191/api/v1/blockDetailByNumber?number=${id}`,
            type: "get",
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            success: function (result) {
                const hash = result.hash
                $('.work_class')[index].title = hash
            },
        });
    })
    GetValueChange()


    /***页面视图缩放视图不变***/
    function handleScreen() {
        const m = detectZoom();
        console.log(m)
        document.body.style.zoom = 125 / Number(m);
    }
    function detectZoom() {
        let ratio = 0,
            screen = window.screen,
            ua = navigator.userAgent.toLowerCase();
        if (window.devicePixelRatio !== undefined) {
            ratio = window.devicePixelRatio;
        } else if (~ua.indexOf('msie')) {
            if (screen.deviceXDPI && screen.logicalXDPI) {
                ratio = screen.deviceXDPI / screen.logicalXDPI;
            }
        } else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {
            ratio = window.outerWidth / window.innerWidth;
        }
        if (ratio) {
            ratio = Math.round(ratio * 100);
        }
        return ratio;
    }
    window.onresize = function () {
        handleScreen()
    }
    handleScreen()
</script>

</html>